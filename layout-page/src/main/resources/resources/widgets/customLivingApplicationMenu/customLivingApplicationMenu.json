{"designerVersion":"1.0.0-SNAPSHOT","id":"customLivingApplicationMenu","name":"livingApplicationMenu","lastUpdate":1427980656161,"template":"\n <nav class=\"navbar-inverse navbar\" role=\"navigation>\n    <div class=\"navbar-header\">\n      <button class=\"navbar-toggle collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#application-menu\">\n        <span class=\"sr-only\">Toggle navigation</span>\n        <span class=\"icon-bar\"></span>\n        <span class=\"icon-bar\"></span>\n        <span class=\"icon-bar\"></span>\n      </button>\n    </div>\n    <div class=\"collapse navbar-collapse\" id=\"application-menu\">\n      <ul class=\"nav navbar-nav\">\n        <li dropdown=\"\" ng-class=\"{active:parameters.selectedPageToken===menu.applicationPageId.token} {dropdown:ctrl.hasChildren(menu, parameters.menuList)===true} {open:ctrl.hasChildren(menu, parameters.menuList)===true}\" ng-repeat=\"menu in parameters.menuList | filter:{parentMenuId:-1}\">\n\t\t\t<a ng-show=\"!ctrl.hasChildren(menu, parameters.menuList)\" href=\"{{menu.applicationPageId.token}}\" >{{menu.displayName}}</a>\n\t\t\t\t\n            <a ng-show=\"ctrl.hasChildren(menu, parameters.menuList)\" role=\"button\" class=\"dropdown-toggle\" dropdown-toggle=\"\" aria-haspopup=\"true\" aria-expanded=\"true\">\n                {{menu.displayName}}<span class=\"caret\"></span>\n            </a>\n    \t\t<ul ng-show=\"ctrl.hasChildren(menu, parameters.menuList)\" class=\"dropdown-menu\">\n\t\t\t    <li ng-repeat=\"childrenMenu in parameters.menuList | filter:{parentMenuId:menu.id}\"><a href=\"{{childrenMenu.applicationPageId.token}}\">{{childrenMenu.displayName}}</a>\n\t\t\t    </li>\n\t\t    </ul>\n        </li>\n      </ul>\n    </div>\n  </nav>","controller":"function($scope, $location) {\n\n    this.selectTargetedMenu = function(menu) {\n        $scope.parameters.selectedMenu = menu;\n    };\n    \n    this.hasChildren= function(menu, menuList) {\n        var children = menuList.filter(function(currentMenu){return currentMenu.parentMenuId===menu.id});\n        return children.length > 0;\n    }\n\n}","custom":true,"parameters":[{"label":"Selected page token","name":"selectedPageToken","type":"text","defaultValue":"","bidirectional":false},{"label":"Menu list","name":"menuList","type":"collection","defaultValue":[],"bidirectional":false}]}